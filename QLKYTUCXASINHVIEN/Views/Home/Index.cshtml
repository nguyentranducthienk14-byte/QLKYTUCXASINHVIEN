@{
    ViewBag.Title = "Trang chủ KTX";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="home-container">

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="hero-content">
            <h1>HỆ THỐNG QUẢN LÝ KÝ TÚC XÁ</h1>
            <p>Giải pháp toàn diện cho việc quản lý sinh viên, phòng ở, đăng ký và thanh toán</p>
            <a href="/SinhVien" class="hero-btn">
                <i class="fas fa-play-circle"></i> BẮT ĐẦU QUẢN LÝ
            </a>
        </div>

        <div class="stats">
            <div class="stat-box">
                <h3>1,254</h3>
                <p>SINH VIÊN</p>
            </div>
            <div class="stat-box">
                <h3>320</h3>
                <p>PHÒNG Ở</p>
            </div>
            <div class="stat-box">
                <h3>42</h3>
                <p>PHÒNG TRỐNG</p>
            </div>
            <div class="stat-box">
                <h3>94%</h3>
                <p>THANH TOÁN ĐÚNG HẠN</p>
            </div>
        </div>
    </section>

    <!-- FEATURES SECTION -->
    <section class="features">
        <h2>CHỨC NĂNG CHÍNH</h2>
        <div class="features-grid">
            <div class="feature">
                <div class="feature-icon">👨‍🎓</div>
                <h3>Quản lý Sinh viên</h3>
                <p>Quản lý thông tin chi tiết của sinh viên</p>
                <a href="/SinhVien">Truy cập ngay →</a>
            </div>

            <div class="feature">
                <div class="feature-icon">🏠</div>
                <h3>Quản lý Phòng ở</h3>
                <p>Kiểm soát số lượng phòng và tình trạng</p>
                <a href="/Phong">Truy cập ngay →</a>
            </div>

            <div class="feature">
                <div class="feature-icon">📝</div>
                <h3>Đăng ký ở KTX</h3>
                <p>Đăng ký và phân phòng tự động</p>
                <a href="/DangKy">Truy cập ngay →</a>
            </div>

            <div class="feature">
                <div class="feature-icon">💰</div>
                <h3>Hệ thống Thanh toán</h3>
                <p>Quản lý hóa đơn và thanh toán</p>
                <a href="/ThanhToan">Truy cập ngay →</a>
            </div>
        </div>
    </section>

    <!-- ma qr -->

    <div class="col-md-4 mb-4">
        <div class="card shadow-sm border-0 rounded-4 text-center p-4 h-100" style="background: white;">
            <h5 class="fw-bold text-primary mb-3">
                <i class="fas fa-qrcode me-2"></i>QUÉT MÃ ĐĂNG KÝ
            </h5>

            @{
                var ipAddress = "192.37.10.154";
                var port = "44341";
                // Link dẫn tới trang đăng ký dành cho sinh viên
                var registrationUrl = $"http://{ipAddress}:{port}/DangKy/Create";
                var qrApi = "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=" + registrationUrl;
            }

            <div class="qr-container mb-3">
                <img src="@qrApi" alt="QR Code" class="img-fluid p-2 border rounded-3" style="max-width: 180px;" />
            </div>

            <p class="text-muted small">Sinh viên quét mã để đăng ký nội trú</p>
            <a href="@registrationUrl" class="btn btn-primary btn-sm rounded-pill px-4">Truy cập ngay</a>
        </div>
    </div>

    <!-- QUICK ACTIONS -->
    <div class="container mt-5">
        <div class="text-center mb-5">
            <h3 class="fw-bold text-uppercase" style="letter-spacing: 2px; color: #2c3e50;">Truy cập nhanh</h3>
            <div style="width: 60px; height: 4px; background: linear-gradient(90deg, #007bff, #00ff88); margin: 10px auto; border-radius: 2px;"></div>
        </div>

        <div class="row g-4 text-center">
            <div class="col-md-3">
                <a href="@Url.Action("Create", "SinhVien")" class="quick-link-item text-decoration-none">
                    <div class="card border-0 shadow-sm p-4 h-100 rounded-4 card-blue">
                        <div class="icon-wrapper mb-3">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12C14.2091 12 16 10.2091 16 8C16 5.79086 14.2091 4 12 4C9.79086 4 8 5.79086 8 8C8 10.2091 9.79086 12 12 12Z" stroke="#007bff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M20 21C20 18.2386 16.4183 16 12 16C7.58172 16 4 18.2386 4 21" stroke="#007bff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M12 16V21" stroke="#007bff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="18" cy="12" r="3" fill="#e7f3ff" stroke="#007bff" stroke-width="2" /><path d="M18 10.5V13.5M16.5 12H19.5" stroke="#007bff" stroke-width="1.5" stroke-linecap="round" /></svg>
                        </div>
                        <h6 class="fw-bold text-dark mb-1">Thêm sinh viên</h6>
                        <p class="small text-muted mb-0">Đăng ký mới</p>
                    </div>
                </a>
            </div>

            <div class="col-md-3">
                <a href="@Url.Action("Index", "Phong")" class="quick-link-item text-decoration-none">
                    <div class="card border-0 shadow-sm p-4 h-100 rounded-4 card-orange">
                        <div class="icon-wrapper mb-3">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 21H21" stroke="#fd7e14" stroke-width="2" stroke-linecap="round" /><path d="M5 21V7L12 3L19 7V21" stroke="#fd7e14" stroke-width="2" stroke-linecap="round" /><path d="M9 21V17H15V21" stroke="#fd7e14" stroke-width="2" stroke-linecap="round" /><path d="M9 7H15M9 12H15" stroke="#fd7e14" stroke-width="2" stroke-linecap="round" /></svg>
                        </div>
                        <h6 class="fw-bold text-dark mb-1">Danh sách phòng</h6>
                        <p class="small text-muted mb-0">Quản lý chỗ ở</p>
                    </div>
                </a>
            </div>

            <div class="col-md-3">
                <a href="@Url.Action("Create", "HoaDon")" class="quick-link-item text-decoration-none">
                    <div class="card border-0 shadow-sm p-4 h-100 rounded-4 card-green">
                        <div class="icon-wrapper mb-3">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15" stroke="#198754" stroke-width="2" stroke-linecap="round" /><rect x="9" y="3" width="6" height="4" rx="1" fill="#d1e7dd" stroke="#198754" stroke-width="2" /><path d="M9 12H15M9 16H13" stroke="#198754" stroke-width="2" stroke-linecap="round" /></svg>
                        </div>
                        <h6 class="fw-bold text-dark mb-1">Tạo hóa đơn</h6>
                        <p class="small text-muted mb-0">Thanh toán nhanh</p>
                    </div>
                </a>
            </div>

            <div class="col-md-3">
                <a href="@Url.Action("BaoCao", "Home")" class="quick-link-item text-decoration-none">
                    <div class="card border-0 shadow-sm p-4 h-100 rounded-4 card-purple">
                        <div class="icon-wrapper mb-3">
                            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21H3V3" stroke="#6f42c1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><path d="M7 14L12 9L16 13L21 8" stroke="#6f42c1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /><circle cx="21" cy="8" r="2" fill="#e2d9f3" stroke="#6f42c1" stroke-width="1.5" /></svg>
                        </div>
                        <h6 class="fw-bold text-dark mb-1">Báo cáo</h6>
                        <p class="small text-muted mb-0">Thống kê dữ liệu</p>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <style>
        .quick-link-item .card {
            transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
            background: #ffffff;
            border: 1px solid #f0f0f0 !important;
        }

        /* Hiệu ứng bay lên và đổi màu nhẹ khi hover */
        .quick-link-item:hover .card {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.08) !important;
        }

        .card-blue:hover {
            border-bottom: 4px solid #007bff !important;
        }

        .card-orange:hover {
            border-bottom: 4px solid #fd7e14 !important;
        }

        .card-green:hover {
            border-bottom: 4px solid #198754 !important;
        }

        .card-purple:hover {
            border-bottom: 4px solid #6f42c1 !important;
        }

        .icon-wrapper {
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.3s ease;
        }

            .icon-wrapper svg {
                width: 60px;
                height: 60px;
            }

        .quick-link-item:hover .icon-wrapper {
            transform: scale(1.1);
        }

        .rounded-4 {
            border-radius: 20px !important;
        }
    </style>

</div>

<style>
    /* RESET & BASE */
    .home-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }

    /* HERO SECTION */
    .hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 60px 40px;
        border-radius: 20px;
        text-align: center;
        margin-bottom: 60px;
        position: relative;
        overflow: hidden;
    }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="white" fill-opacity="0.1" d="M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,154.7C960,171,1056,181,1152,165.3C1248,149,1344,107,1392,85.3L1440,64L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-size: cover;
        }

    .hero-content {
        position: relative;
        z-index: 1;
        margin-bottom: 40px;
    }

    .hero h1 {
        font-size: 2.8rem;
        font-weight: 800;
        margin-bottom: 20px;
        line-height: 1.2;
    }

    .hero p {
        font-size: 1.2rem;
        opacity: 0.9;
        max-width: 600px;
        margin: 0 auto 30px;
    }

    .hero-btn {
        display: inline-block;
        background: white;
        color: #667eea;
        padding: 15px 35px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s;
        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
    }

        .hero-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.3);
        }

    .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 40px;
    }

    .stat-box {
        background: rgba(255,255,255,0.1);
        padding: 25px;
        border-radius: 15px;
        backdrop-filter: blur(10px);
    }

        .stat-box h3 {
            font-size: 2.5rem;
            margin-bottom: 5px;
            font-weight: 700;
        }

        .stat-box p {
            font-size: 0.9rem;
            opacity: 0.8;
            margin: 0;
        }

    /* FEATURES SECTION */
    .features {
        margin-bottom: 60px;
    }

        .features h2 {
            text-align: center;
            font-size: 2.2rem;
            color: #333;
            margin-bottom: 40px;
            font-weight: 700;
        }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 25px;
    }

    .feature {
        background: white;
        padding: 30px;
        border-radius: 15px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(0,0,0,0.08);
        transition: transform 0.3s;
    }

        .feature:hover {
            transform: translateY(-10px);
        }

    .feature-icon {
        font-size: 3rem;
        margin-bottom: 20px;
    }

    .feature h3 {
        color: #333;
        margin-bottom: 10px;
        font-size: 1.3rem;
    }

    .feature p {
        color: #666;
        margin-bottom: 20px;
        font-size: 0.95rem;
    }

    .feature a {
        color: #667eea;
        text-decoration: none;
        font-weight: 600;
        display: inline-flex;
        align-items: center;
        gap: 5px;
    }

        .feature a:hover {
            text-decoration: underline;
        }

    /* QUICK ACTIONS */
    .quick-actions {
        background: #f8f9fa;
        padding: 50px;
        border-radius: 20px;
        margin-bottom: 40px;
    }

        .quick-actions h2 {
            text-align: center;
            font-size: 2.2rem;
            color: #333;
            margin-bottom: 40px;
            font-weight: 700;
        }

    .actions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }

    .action {
        display: flex;
        align-items: center;
        gap: 20px;
        background: white;
        padding: 25px;
        border-radius: 15px;
        text-decoration: none;
        color: inherit;
        transition: all 0.3s;
        box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    }

        .action:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            text-decoration: none;
        }

        .action i {
            font-size: 2rem;
            color: #667eea;
            width: 60px;
            height: 60px;
            background: #eef2ff;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .action h4 {
            color: #333;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .action p {
            color: #666;
            font-size: 0.9rem;
            margin: 0;
        }

    /* RESPONSIVE */
    @@media (max-width: 768px) {
        .hero {
            padding: 40px 20px;
        }

            .hero h1 {
                font-size: 2rem;
            }

        .stats {
            grid-template-columns: repeat(2, 1fr);
        }

        .features-grid,
        .actions-grid {
            grid-template-columns: 1fr;
        }

        .quick-actions {
            padding: 30px 20px;
        }
    }

    @@media (max-width: 480px) {
        .stats {
            grid-template-columns: 1fr;
        }

        .hero-btn {
            padding: 12px 25px;
            font-size: 1rem;
        }
    }

    .qr-container img {
        border-radius: 15px;
        transition: transform 0.3s ease;
    }

        .qr-container img:hover {
            transform: scale(1.05); /* Hiệu ứng phóng to nhẹ khi di chuột */
            cursor: pointer;
        }

    .card {
        transition: all 0.3s ease;
    }

        .card:hover {
            box-shadow: 0 10px 20px rgba(0,0,0,0.1) !important;
        }
</style>

<script>
    // Animation for counters
    document.addEventListener('DOMContentLoaded', function () {
        const counters = document.querySelectorAll('.stat-box h3');

        counters.forEach(counter => {
            const target = parseInt(counter.textContent.replace(',', ''));
            let current = 0;
            const increment = target / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    counter.textContent = target.toLocaleString();
                    clearInterval(timer);
                } else {
                    counter.textContent = Math.floor(current).toLocaleString();
                }
            }, 30);
        });
    });
</script>